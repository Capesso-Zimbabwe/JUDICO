<form hx-post="{% url 'hr_management:create_user_modal' %}" hx-target="#user-new-modal-container" hx-swap="innerHTML"
      class="space-y-4 p-4">
    {% csrf_token %}
    
    <!-- First Name -->
    <div>
        <label for="{{ form.first_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            First Name <span class="text-red-500">*</span>
        </label>
        {{ form.first_name }}
        {% if form.first_name.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.first_name.errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <!-- Last Name -->
    <div>
        <label for="{{ form.last_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            Last Name <span class="text-red-500">*</span>
        </label>
        {{ form.last_name }}
        {% if form.last_name.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.last_name.errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <!-- Email -->
    <div>
        <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            Email <span class="text-red-500">*</span>
        </label>
        {{ form.email }}
        {% if form.email.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.email.errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <!-- Username -->
    <div>
        <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            Username <span class="text-red-500">*</span>
        </label>
        {{ form.username }}
        {% if form.username.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.username.errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <!-- User Type -->
    <div>
        <label for="{{ form.user_type.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            User Type <span class="text-red-500">*</span>
        </label>
        {{ form.user_type }}
        {% if form.user_type.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.user_type.errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <!-- Password -->
    <div>
        <label for="{{ form.password1.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            Password <span class="text-red-500">*</span>
        </label>
        {{ form.password1 }}
        {% if form.password1.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.password1.errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <!-- Confirm Password -->
    <div>
        <label for="{{ form.password2.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
            Confirm Password <span class="text-red-500">*</span>
        </label>
        {{ form.password2 }}
        {% if form.password2.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in form.password2.errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
    </div>

    <!-- Non-field errors -->
    {% if form.non_field_errors %}
        <div class="text-red-500 text-sm">
            {% for error in form.non_field_errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Form Actions -->
    <div class="flex justify-end space-x-3 pt-4 border-t border-gray-200">
        <button type="button" data-modal-hide="user-new-modal"
                class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Cancel
        </button>
        <button type="submit"
                class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Create User
        </button>
    </div>
</form>